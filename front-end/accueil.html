<!DOCTYPE html>
<html lang="fr">
<head>
    <title>Liste des artistes</title>
    <link rel="stylesheet" type="text/css" href="/front-end/css/accueil.css">
</head>
<body>
<h1>Liste des artistes</h1>
<ul>
    <form action="/search" method="get">
        <label>
            <label for="search">Recherche :</label>
            <input type="text"  required placeholder="Search" name="search" id="search" list="suggestions" onkeyup="myFunction()">
            <datalist id="suggestions">
                {{range .}}
                <ul id="myUL">
                    <li><a href="#"></a></li>
                </ul>
                <option value="{{.Name}}">
                    {{end}}
            </datalist>
        </label>
        <button type="submit">Search</button>
    </form>
    {{range .}}
        <li id="artist{{.ID}}">
            <div class="artiste-box">
                <img src="{{.ImageURL}}" alt="{{.Name}}" />
                <div class="info">
                    <p>Albums : {{.Albums}}</p>
                    <p>Pistes : {{.Tracks}}</p>
                    <p><a href="/index/{{.ID}}">Page de {{.Name}}</a></p>
                </div>
            </div>
        </li>
    {{end}}

</ul>
<script>
    function myFunction() {
        var input, filter, ul, li, a, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        ul = document.getElementById("myUL");
        li = ul.getElementsByTagName("li");
        for (i = 0; i < li.length; i++) {
            a = li[i].getElementsByTagName("a")[0];
            txtValue = a.textContent || a.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }
</script>
</body>
</html>